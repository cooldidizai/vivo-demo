<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vivo_uv底表</title>
    <style>
        :root {
            --primary-blue: #1890ff;
            --header-bg-gray: #f7f8fa;
            --border-color: #e8e8e8;
            
            /* 一级表头背景色 */
            --bg-total-head: #e69138;
            --bg-main-head: #1155cc;
            --bg-comment-head: #c27ba0;
            --bg-storage-head: #666666;

            /* 二级表头及列背景色 */
            --bg-total-sub: #fce5cd;
            --bg-main-sub: #cfe2f3;
            --bg-comment-sub: #ead1dc;
            
            /* 合计行 */
            --color-sum-bg: #fff2cc;
            --color-sum-text: #b45f06;
            --color-sum-border: #f5e0b3;

            /* 冻结列宽度 */
            --w-model: 120px;
            --w-stage: 110px;
            --w-node: 120px;
            --w-date: 100px;
            --w-data-col: 90px;

            /* 层级管理 (关键调整) */
            --z-sticky-col: 10;
            --z-sticky-sum: 15; 
            --z-thead: 100;
            --z-filter-bar: 500; /* 提高筛选栏层级 */
            --z-dropdown: 1000; /* 最高层级 */
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; font-size: 12px; }

        body { background: #f0f2f5; padding: 15px; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }

        /* --- 筛选器栏 (修复核心：移除overflow，允许换行) --- */
        .filter-container {
            background: #fff;
            padding: 10px 15px;
            border-radius: 6px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 10px;
            display: flex;
            align-items: center; 
            gap: 10px;
            position: relative;
            z-index: var(--z-filter-bar); /* 确保筛选栏在表格之上 */
            flex-wrap: wrap; /* 关键：允许换行，否则绝对定位会被裁剪 */
        }
        
        .filter-left {
            display: flex;
            align-items: center;
            flex-wrap: wrap; /* 允许内部元素换行 */
            gap: 10px;
            flex: 1; 
        }

        .filter-right {
            display: flex;
            align-items: center;
            gap: 10px;
            border-left: 1px solid #ddd;
            padding-left: 15px;
            margin-left: auto; 
            background: #fff;
        }

        .filter-item { display: flex; align-items: center; gap: 8px; position: relative; }
        .filter-label { font-weight: bold; color: #555; white-space: nowrap; }

        .input-trigger {
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            padding: 4px 10px;
            min-width: 100px;
            max-width: 160px;
            cursor: pointer;
            background: #fff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #333;
            height: 28px;
            white-space: nowrap;
        }
        .input-trigger:hover { border-color: var(--primary-blue); }
        .input-trigger::after { content: "▼"; font-size: 10px; color: #bbb; margin-left: 8px; }

        select, input[type="date"] { padding: 4px; border: 1px solid #d9d9d9; border-radius: 4px; height: 28px; }

        /* 下拉面板 (样式修复) */
        .dropdown-panel {
            position: absolute; 
            top: 100%; 
            left: 0; 
            background: #fff; 
            border: 1px solid #eee;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15); 
            border-radius: 4px; 
            padding: 12px;
            display: none; 
            z-index: var(--z-dropdown); /* 确保浮在一切之上 */
            margin-top: 4px;
            min-width: 300px; /* 保证最小宽度 */
        }
        .dropdown-panel.show { display: block; }
        
        .dropdown-header { display: flex; justify-content: space-between; margin-bottom: 8px; padding-bottom: 6px; border-bottom: 1px solid #f0f0f0; }
        .checkbox-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 10px; max-height: 300px; overflow-y: auto; }
        .checkbox-item { display: flex; align-items: center; gap: 4px; cursor: pointer; }
        .dropdown-footer { display: flex; justify-content: flex-end; gap: 8px; border-top: 1px solid #f0f0f0; padding-top: 8px; }
        .site-filter-extras { border-top: 1px dashed #eee; margin-top: 8px; padding-top: 8px; display: flex; flex-direction: column; gap: 6px; }
        .extra-input { width: 100%; padding: 4px; border: 1px solid #ddd; border-radius: 3px; }
        
        .btn { padding: 2px 8px; border-radius: 3px; cursor: pointer; border: 1px solid #ddd; background: #fff; font-size: 12px; }
        .btn-primary { background: var(--primary-blue); color: #fff; border-color: var(--primary-blue); }

        /* --- 表格区域 --- */
        .table-wrapper {
            flex: 1; background: #fff; border-radius: 6px; overflow: auto;
            position: relative; box-shadow: 0 1px 3px rgba(0,0,0,0.1); z-index: 1;
        }

        table { border-collapse: separate; border-spacing: 0; width: max-content; min-width: 100%; table-layout: fixed; }
        
        th, td {
            padding: 6px 8px;
            border-bottom: 1px solid var(--border-color);
            border-right: 1px solid var(--border-color);
            text-align: right; white-space: normal;
            height: 36px;
            min-width: var(--w-data-col);
            word-break: break-all;
        }
        
        thead { position: sticky; top: 0; z-index: var(--z-thead); }
        th { text-align: center; font-weight: 600; background: var(--header-bg-gray); color: #333; font-size: 12px; vertical-align: middle; }
        
        .th-blue-bg { background-color: var(--bg-main-head) !important; color: white !important; border-right: 1px solid rgba(255,255,255,0.2) !important; }
        .th-orange-bg { background-color: var(--bg-total-head) !important; color: white !important; border-right: 1px solid rgba(255,255,255,0.2) !important; }
        .th-pink-bg { background-color: var(--bg-comment-head) !important; color: white !important; border-right: 1px solid rgba(255,255,255,0.2) !important; }
        .th-storage-bg { background-color: var(--bg-storage-head) !important; color: white !important; }

        .th-sub-orange { background-color: var(--bg-total-sub) !important; color: #333 !important; }
        .th-sub-blue { background-color: var(--bg-main-sub) !important; color: #333 !important; }
        .th-sub-pink { background-color: var(--bg-comment-sub) !important; color: #333 !important; }
        
        .sticky-col { position: sticky; background: #fff; z-index: var(--z-sticky-col); border-right: 1px solid #ddd; }
        thead .sticky-col { background: var(--header-bg-gray); z-index: calc(var(--z-thead) + 10); }
        thead tr:first-child .sticky-col { background: #fff !important; border-bottom: none; border-right: none; }

        .col-model { left: 0; width: var(--w-model); min-width: var(--w-model); text-align: left; }
        .col-stage { left: var(--w-model); width: var(--w-stage); min-width: var(--w-stage); text-align: left; }
        .col-node  { left: calc(var(--w-model) + var(--w-stage)); width: var(--w-node); min-width: var(--w-node); text-align: left; }
        .col-date  { left: calc(var(--w-model) + var(--w-stage) + var(--w-node)); width: var(--w-date); min-width: var(--w-date); border-right: 2px solid #ccc; text-align: center; }

        .tr-summary td {
            background-color: var(--color-sum-bg) !important;
            color: var(--color-sum-text) !important;
            font-weight: bold;
            border-bottom: 1px solid var(--color-sum-border);
            border-right: 1px solid var(--color-sum-border);
        }
        .tr-summary .sticky-col { background-color: var(--color-sum-bg) !important; z-index: var(--z-sticky-sum); }
        .tr-summary .text-center { text-align: center !important; }
        
        .th-blank { background: #fff !important; border-bottom: none !important; border-right: none !important; }

    </style>
</head>
<body>

    <!-- 筛选器栏 -->
    <div class="filter-container">
        <div class="filter-left">
            <!-- 品牌 -->
            <div class="filter-item">
                <span class="filter-label">品牌</span>
                <select id="brandSelect" onchange="handleBrandChange()" style="width: 80px;">
                    <option value="all">不限</option>
                    <option value="vivo">vivo</option>
                    <option value="OPPO">OPPO</option>
                </select>
            </div>

            <!-- 机型 -->
            <div class="filter-item">
                <span class="filter-label">机型</span>
                <div class="input-trigger" id="modelTrigger" onclick="toggleDropdown('modelDropdown')">不限</div>
                <div class="dropdown-panel" id="modelDropdown" style="width: 250px;">
                    <div class="dropdown-header"><span>选择机型</span><button class="btn" onclick="selectAll('model', true)">全选</button></div>
                    <div class="checkbox-grid" id="modelList" style="grid-template-columns: 1fr;"></div>
                    <div class="dropdown-footer"><button class="btn" onclick="toggleDropdown('modelDropdown')">取消</button><button class="btn btn-primary" onclick="confirmFilter('model')">确定</button></div>
                </div>
            </div>

            <!-- 阶段 -->
            <div class="filter-item">
                <span class="filter-label">阶段</span>
                <div class="input-trigger" id="stageTrigger" onclick="toggleDropdown('stageDropdown')">不限</div>
                <div class="dropdown-panel" id="stageDropdown" style="width: 350px;">
                    <div class="dropdown-header">
                        <span>选择阶段</span>
                        <!-- 增加清空按钮 -->
                        <div>
                            <button class="btn" onclick="selectAll('stage', true)">全选</button>
                            <button class="btn" onclick="selectAll('stage', false)">清空</button>
                        </div>
                    </div>
                    <div class="checkbox-grid" id="stageList" style="grid-template-columns: repeat(2, 1fr);"></div>
                    <div class="dropdown-footer"><button class="btn" onclick="toggleDropdown('stageDropdown')">取消</button><button class="btn btn-primary" onclick="confirmStage()">确定</button></div>
                </div>
            </div>

            <!-- 节点 -->
            <div class="filter-item">
                <span class="filter-label">节点</span>
                <div class="input-trigger" id="nodeTrigger" onclick="toggleDropdown('nodeDropdown')">不限</div>
                <div class="dropdown-panel" id="nodeDropdown" style="width: 600px;">
                    <div class="dropdown-header"><span>选择节点</span><div><button class="btn" onclick="selectAll('node', true)">全选</button> <button class="btn" onclick="selectAll('node', false)">清空</button></div></div>
                    <div class="checkbox-grid" id="nodeList" style="grid-template-columns: repeat(4, 1fr);"></div>
                    <div class="dropdown-footer"><button class="btn" onclick="toggleDropdown('nodeDropdown')">取消</button><button class="btn btn-primary" onclick="confirmFilter('node')">确定</button></div>
                </div>
            </div>

            <!-- 站点 -->
            <div class="filter-item">
                <span class="filter-label">社媒平台</span>
                <div class="input-trigger" id="siteTrigger" onclick="toggleDropdown('siteDropdown')">全选</div>
                <div class="dropdown-panel" id="siteDropdown" style="width: 500px;">
                    <div class="dropdown-header"><span>社媒平台</span><div><button class="btn" onclick="selectAll('site', true)">全选</button> <button class="btn" onclick="selectAll('site', false)">清空</button></div></div>
                    <div class="checkbox-grid" id="siteList" style="grid-template-columns: repeat(4, 1fr);"></div>
                    <div class="site-filter-extras">
                    </div>
                    <div class="dropdown-footer"><label><input type="checkbox"> 记住</label><button class="btn" onclick="toggleDropdown('siteDropdown')">取消</button><button class="btn btn-primary" onclick="confirmFilter('site')">确定</button></div>
                </div>
            </div>

            <!-- UV类型 -->
            <div class="filter-item">
                <span class="filter-label">UV类型:</span>
                <select id="uvTypeSelect" onchange="renderTable()" style="width: 80px;">
                    <option value="all">不限</option>
                    <option value="main">主贴</option>
                    <option value="comment">评论</option>
                </select>
            </div>
        </div>

        <!-- 右侧时间控制 -->
        <div class="filter-right">
            <div style="display:flex; border:1px solid #d9d9d9; border-radius:4px; overflow:hidden;">
                <button style="border:none; background:#1890ff; color:white; padding:4px 12px; height:28px;">按天</button>
                <button style="border:none; background:#fff; padding:4px 12px; height:28px;">按月</button>
            </div>
            <input type="date" value="2025-05-01" style="width:110px;">
            <span style="color:#999">-</span>
            <input type="date" value="2025-12-30" style="width:110px;">
        </div>
    </div>

    <!-- 表格 -->
    <div class="table-wrapper">
        <table id="dataTable">
            <thead></thead>
            <tbody></tbody>
        </table>
    </div>

    <script>
        const BRAND_MODEL_MAP = {
            'vivo': ['vivo S50系列', 'vivo S30系列'],
            'OPPO': ['OPPO Reno14系列', 'OPPO Reno13系列', 'OPPO Reno15系列']
        };
        const ALL_SITES = ['抖音', '小红书', '微博', 'B站', '新闻', '快手', '微信', '酷安', '品牌社区', '今日头条', '视频号'];
        const ALL_STAGES = ['超长预热期', '外围预热期', '正式预热期', '发布会', '预售期', '首销月'];
        
        const generateNodes = () => {
            let nodes = [];
            ['超长预热','外围预热','正式预热'].forEach(p => { for(let i=1;i<=13;i++) nodes.push(`${p}第${i}天`); });
            nodes.push('发布会');
            ['预售','首销'].forEach(p => { for(let i=1;i<=30;i++) nodes.push(`${p}第${i}天`); });
            return nodes;
        };
        const ALL_NODES = generateNodes();

        const rawDataStr = `机型	阶段	节点	日期	总UV	主贴UV	评论UV	总-抖音	总-小红书	总-微博	总-B站	总-新闻	总-快手	总-微信	总-酷安	总-品牌社区	总-今日头条	总-视频号	主-抖音	主-小红书	主-微博	主-B站	主-新闻	主-快手	主-微信	主-酷安	主-品牌社区	主-今日头条	主-视频号	评-抖音	评-小红书	评-微博	评-B站	评-新闻	评-快手	评-微信	评-酷安	评-品牌社区	评-今日头条	评-视频号	主贴UV	评论UV	主-小红书	评-小红书
vivo S50系列	0-超长预热期	0-超长预热第1天	2025/11/14	5,769	820	4,949	1,258	523	3,167	63	347	148	41	208	0	215	3	82	12	398	7	201	46	41	23	0	70	3	1,176	511	2,769	56	146	102	0	185	0	145	0	810	4,455	2	17
vivo S50系列	0-超长预热期	0-超长预热第2天	2025/11/15	2,226	279	1,947	657	45	872	37	229	186	36	154	0	176	4	49	6	49	4	101	21	36	5	0	48	4	608	39	823	33	128	165	0	149	0	128	0	274	1,910	1	2
vivo S50系列	0-超长预热期	0-超长预热第3天	2025/11/16	4,045	287	3,758	2,767	4	556	101	215	273	35	82	1	177	5	52	4	68	13	73	28	35	2	1	36	5	2,715	0	488	88	142	245	0	80	0	141	0	284	3,758	1	0
vivo S50系列	0-超长预热期	0-超长预热第4天	2025/11/17	9,354	1,760	7,594	4,824	2,047	1,407	90	331	424	41	173	0	249	3	275	772	290	8	129	218	41	14	0	47	3	4,549	1,275	1,117	82	202	206	0	159	0	202	0	1,298	6,405	310	86
vivo S50系列	0-超长预热期	0-超长预热第5天	2025/11/18	7,456	1,289	6,167	2,843	2,500	829	89	355	405	45	371	0	268	9	202	621	90	7	140	145	45	22	0	53	9	2,641	1,879	739	82	215	260	0	349	0	215	0	965	4,400	297	112
vivo S50系列	0-超长预热期	0-超长预热第6天	2025/11/19	7,001	1,535	5,466	2,217	816	2,892	43	322	396	47	239	1	225	8	159	550	447	8	176	106	47	19	1	79	8	2,058	266	2,445	35	146	290	0	220	0	146	0	1,257	5,213	272	13
vivo S50系列	0-超长预热期	0-超长预热第7天	2025/11/20	7,025	1,900	5,125	2,834	819	2,035	42	288	555	56	363	0	152	17	322	819	223	7	203	222	56	22	0	68	16	2,512	0	1,812	35	85	333	0	341	0	84	1	1,497	5,125	416	0
vivo S50系列	0-超长预热期	0-超长预热第8天	2025/11/21	4,390	1,438	2,952	1,738	692	567	17	137	664	42	505	3	67	8	288	692	46	8	122	200	42	23	1	52	8	1,450	0	521	9	15	464	0	482	2	15	0	992	2,952	246	0
vivo S50系列	0-超长预热期	0-超长预热第9天	2025/11/22	4,080	1,474	2,606	1,925	692	293	28	112	762	28	216	1	90	11	344	692	19	5	77	281	28	12	1	55	11	1,581	0	274	23	35	481	0	204	0	35	0	1,097	2,606	315	0
vivo S50系列	0-超长预热期	0-超长预热第10天	2025/11/23	3,488	1,680	1,808	1,508	907	70	25	75	777	19	97	0	59	6	413	871	8	1	57	294	19	9	0	41	6	1,095	36	62	24	18	483	0	88	0	18	0	1,198	1,774	389	2
vivo S50系列	0-超长预热期	0-超长预热第11天	2025/11/24	3,965	2,128	1,837	926	1,065	1,226	132	188	299	26	81	0	108	16	411	1,065	235	6	131	217	26	15	0	51	16	515	0	991	126	57	82	0	66	0	57	0	1,552	1,837	489	0
vivo S30系列	2-正式预热期	2-正式预热第1天	2025/05/19	29,967	15,430	14,537	8,942	9,409	6,447	61	919	3,588	85	431	1	461	19	4,773	4,947	2,032	10	734	2,744	85	54	1	278	19	4,169	4,462	4,415	51	185	844	0	377	0	183	0	15,430	14,537	4,947	4,462
vivo S30系列	2-正式预热期	2-正式预热第2天	2025/05/20	39,689	16,300	23,389	13,183	12,343	7,632	245	988	4,621	57	470	0	662	112	5,365	5,754	1,428	28	603	2,934	57	48	0	280	54	7,818	6,589	6,204	217	385	1,687	0	422	0	382	58	16,300	23,389	5,754	6,589
vivo S30系列	2-正式预热期	2-正式预热第3天	2025/05/21	36,413	15,379	21,034	12,506	11,905	6,230	81	833	4,092	67	448	0	566	216	4,929	6,004	802	12	503	2,799	67	37	0	239	196	7,577	5,901	5,428	69	330	1,293	0	411	0	327	20	15,379	21,034	6,004	5,901
vivo S30系列	2-正式预热期	2-正式预热第4天	2025/05/22	36,623	15,887	20,736	13,120	14,709	2,722	44	1,003	4,042	47	384	1	536	247	5,439	5,708	621	9	719	2,932	47	29	1	257	230	7,681	9,001	2,101	35	284	1,110	0	355	0	279	17	15,887	20,736	5,708	9,001
vivo S30系列	2-正式预热期	2-正式预热第5天	2025/05/23	31,764	17,217	14,547	10,382	12,480	2,529	30	870	4,682	57	254	0	474	188	6,214	5,968	499	11	623	3,513	57	25	0	230	173	4,168	6,512	2,030	19	247	1,169	0	229	0	244	15	17,217	14,547	5,968	6,512
vivo S30系列	2-正式预热期	2-正式预热第6天	2025/05/24	27,148	15,805	11,343	10,009	10,085	1,121	21	688	4,574	38	227	1	385	108	6,014	5,194	388	6	515	3,412	38	36	1	213	77	3,995	4,891	733	15	173	1,162	0	191	0	172	31	15,805	11,343	5,194	4,891
vivo S30系列	2-正式预热期	2-正式预热第7天	2025/05/25	30,658	17,258	13,400	9,075	10,528	5,805	22	719	4,021	29	170	1	373	88	5,284	4,806	3,430	7	562	2,949	29	30	1	218	75	3,791	5,722	2,375	15	157	1,072	0	140	0	155	13	17,258	13,400	4,806	5,722
vivo S30系列	2-正式预热期	2-正式预热第8天	2025/05/26	37,199	18,323	18,876	9,560	13,262	8,307	24	909	4,493	38	197	2	486	92	5,847	5,353	2,862	10	663	3,322	38	40	2	241	87	3,713	7,909	5,445	14	246	1,171	0	157	0	245	5	18,323	18,876	5,353	7,909
vivo S30系列	2-正式预热期	2-正式预热第9天	2025/05/27	34,430	17,720	16,710	10,026	14,732	3,983	34	802	4,114	49	298	0	376	81	6,253	6,450	1,023	17	642	3,054	49	26	0	219	81	3,773	8,282	2,960	17	160	1,060	0	272	0	157	0	17,720	16,710	6,450	8,282
vivo S30系列	2-正式预热期	2-正式预热第10天	2025/05/28	36,260	17,717	18,543	10,664	15,022	5,536	29	828	3,437	39	302	0	353	85	6,138	6,195	1,933	18	704	2,456	39	29	0	229	85	4,526	8,827	3,603	11	124	981	0	273	0	124	0	17,717	18,543	6,195	8,827
vivo S30系列	3-发布会	3-发布会	2025/05/29	73,689	30,143	43,546	19,726	23,413	19,314	800	3,994	4,394	168	1,296	1	1,206	180	7,817	9,102	5,691	129	3,647	3,048	168	170	1	859	152	11,909	14,311	13,623	671	347	1,346	0	1,126	0	347	28	30,143	43,546	9,102	14,311
vivo S30系列	4-预售期	4-预售第1天	2025/05/30	59,490	25,155	34,335	18,190	21,544	10,418	453	2,627	4,580	236	1,008	5	1,142	143	7,912	9,191	2,170	65	2,123	3,065	236	125	2	638	125	10,278	12,353	8,248	388	504	1,515	0	883	3	504	18	25,155	34,335	9,191	12,353
vivo S30系列	4-预售期	4-预售第2天	2025/05/31	35,750	17,036	18,714	10,466	15,289	4,719	169	1,024	3,271	116	502	0	733	87	5,888	6,928	1,151	29	643	2,075	116	64	0	352	82	4,578	8,361	3,568	140	381	1,196	0	438	0	381	5	17,036	18,714	6,928	8,361
vivo S30系列	4-预售期	4-预售第3天	2025/06/01	30,845	14,967	15,878	9,096	12,889	4,108	107	805	3,207	74	387	0	600	76	5,234	5,651	1,192	26	470	2,124	74	68	0	265	74	3,862	7,238	2,916	81	335	1,083	0	319	0	335	2	14,967	15,878	5,651	7,238
vivo S30系列	4-预售期	4-预售第4天	2025/06/02	33,260	16,261	16,999	10,731	14,093	4,082	88	645	2,991	62	394	2	442	106	5,559	5,986	1,936	43	458	2,035	62	37	1	255	106	5,172	8,107	2,146	45	187	956	0	357	1	187	0	16,261	16,999	5,986	8,107
vivo S30系列	4-预售期	4-预售第5天	2025/06/03	30,937	15,192	15,745	10,658	12,094	3,330	60	1,256	2,955	75	341	0	584	82	5,499	5,187	1,096	25	1,024	2,103	75	46	0	354	82	5,159	6,907	2,234	35	232	852	0	295	0	230	0	15,192	15,745	5,187	6,907
vivo S30系列	4-预售期	4-预售第6天	2025/06/04	33,170	19,773	13,397	10,154	13,335	4,285	89	1,185	3,479	91	367	1	542	104	6,526	7,070	2,331	29	969	2,550	91	53	1	326	104	3,628	6,265	1,954	60	216	929	0	314	0	216	0	19,773	13,397	7,070	6,265
vivo S30系列	4-预售期	4-预售第7天	2025/06/05	39,614	21,533	18,081	12,118	14,459	6,938	179	1,293	3,908	129	385	0	658	134	7,386	6,781	3,250	21	960	2,783	129	50	0	325	134	4,732	7,678	3,688	158	333	1,125	0	335	0	333	0	21,533	18,081	6,781	7,678
vivo S30系列	5-首销月	5-首销第1天	2025/06/06	51,261	32,181	19,080	12,911	15,471	16,574	111	1,509	3,942	176	322	0	624	148	7,921	7,724	12,053	33	1,281	2,711	176	59	0	396	148	4,990	7,747	4,521	78	228	1,231	0	263	0	228	0	32,181	19,080	7,724	7,747
vivo S30系列	5-首销月	5-首销第2天	2025/06/07	32,626	18,686	13,940	11,742	14,194	1,855	61	847	3,415	62	272	3	394	125	6,369	8,626	369	23	702	2,320	62	55	1	250	125	5,373	5,568	1,486	38	145	1,095	0	217	2	144	0	18,686	13,940	8,626	5,568
vivo S30系列	5-首销月	5-首销第3天	2025/06/08	24,668	14,652	10,016	9,357	9,594	1,396	128	753	2,902	52	303	0	352	78	5,349	6,135	332	18	607	1,990	52	49	0	206	78	4,008	3,459	1,064	110	146	912	0	254	0	146	0	14,652	10,016	6,135	3,459
vivo S30系列	5-首销月	5-首销第4天	2025/06/09	26,380	13,956	12,424	8,954	9,789	3,727	90	496	2,892	71	237	0	353	61	4,834	5,276	1,266	14	339	2,015	71	39	0	196	61	4,120	4,513	2,461	76	157	877	0	198	0	157	0	13,956	12,424	5,276	4,513
vivo S30系列	5-首销月	5-首销第25天	2025/06/30	12,956	9,192	3,764	5,175	3,981	565	19	567	2,448	46	91	0	473	39	2,840	3,808	170	7	215	2,033	46	19	0	122	39	2,335	173	395	12	352	415	0	72	0	351	0	9,192	3,764	3,808	173
vivo S30系列	5-首销月	5-首销第26天	2025/07/01	6,711	4,409	2,302	2,275	1,967	394	15	514	1,332	44	112	0	430	22	1,250	1,855	56	5	199	932	44	19	0	116	22	1,025	112	338	10	315	400	0	93	0	314	0	4,409	2,302	1,855	112
vivo S30系列	5-首销月	5-首销第27天	2025/07/02	6,431	3,917	2,514	2,534	1,709	463	9	317	1,057	48	231	0	238	23	1,318	1,456	68	7	182	749	48	39	0	106	23	1,216	253	395	2	135	308	0	192	0	132	0	3,917	2,514	1,456	253
vivo S30系列	5-首销月	5-首销第28天	2025/07/03	8,014	4,857	3,157	3,629	2,272	230	35	214	1,210	40	282	0	169	55	1,898	1,643	32	25	139	960	40	33	0	94	55	1,731	629	198	10	75	250	0	249	0	75	0	4,857	3,157	1,643	629
vivo S30系列	5-首销月	5-首销第29天	2025/07/04	12,854	9,995	2,859	8,368	1,954	361	28	248	1,477	50	245	0	183	83	6,597	1,769	44	17	170	1,199	50	44	0	107	83	1,771	185	317	11	78	278	0	201	0	76	0	9,995	2,859	1,769	185
vivo S30系列	5-首销月	5-首销第30天	2025/07/05	13,273	10,088	3,185	8,653	1,853	126	21	292	1,765	34	397	0	201	78	6,714	1,601	27	12	194	1,377	34	32	0	106	78	1,939	252	99	9	98	388	0	365	0	95	0	10,088	3,185	1,601	252
OPPO Reno15系列	0-超长预热期	0-超长预热第1天	2025/10/17	125	18	108	60	40	12	0	4	3	1	4	0	3	1	6	6	1	0	2	0	1	1	0	1	1	54	35	11	0	2	3	0	3	0	2	0	17	93	5	20
OPPO Reno15系列	0-超长预热期	0-超长预热第2天	2025/10/18	207	26	181	93	47	40	0	9	17	0	1	0	5	0	1	8	1	0	6	9	0	1	0	2	0	92	39	39	0	3	8	0	0	0	3	0	26	163	8	21
OPPO Reno15系列	0-超长预热期	0-超长预热第3天	2025/10/19	171	29	142	72	69	13	0	2	11	2	1	0	2	1	5	12	2	0	2	6	2	0	0	2	0	67	57	11	0	0	5	0	1	0	0	1	29	115	12	30
OPPO Reno15系列	0-超长预热期	0-超长预热第4天	2025/10/20	163	31	131	35	80	19	2	14	2	1	10	0	5	0	1	7	5	2	10	1	1	4	0	1	0	34	72	14	0	4	1	0	6	0	4	0	31	96	7	37
OPPO Reno15系列	0-超长预热期	0-超长预热第5天	2025/10/21	387	97	290	15	67	150	3	76	7	4	60	0	58	2	1	6	35	3	38	3	4	2	0	20	2	14	61	115	0	38	4	0	58	0	38	0	96	259	5	30
OPPO Reno15系列	0-超长预热期	0-超长预热第6天	2025/10/22	518	46	473	320	59	10	0	19	28	6	75	0	16	0	5	6	4	0	14	6	6	4	0	11	0	315	54	6	0	5	22	0	71	0	5	0	45	446	5	27
OPPO Reno15系列	0-超长预热期	0-超长预热第7天	2025/10/23	260	27	233	126	43	41	2	7	27	4	9	0	7	0	2	5	5	1	7	2	4	1	0	7	0	124	38	36	1	0	25	0	8	0	0	0	25	212	3	17
OPPO Reno15系列	0-超长预热期	0-超长预热第8天	2025/10/24	369	125	244	67	41	106	10	48	29	15	46	0	19	2	11	0	22	9	47	8	15	6	0	18	2	56	41	84	1	1	21	0	40	0	1	0	125	210	0	7
OPPO Reno15系列	0-超长预热期	0-超长预热第9天	2025/10/25	627	94	533	247	65	101	5	59	115	13	15	0	35	1	6	6	5	5	46	8	13	0	0	22	1	241	59	96	0	13	107	0	15	0	13	0	90	482	2	8
OPPO Reno15系列	0-超长预热期	0-超长预热第10天	2025/10/26	649	123	526	352	73	17	1	96	87	11	8	0	80	1	11	16	3	1	68	10	11	0	0	52	1	341	57	14	0	28	77	0	8	0	28	0	114	478	7	9
OPPO Reno15系列	0-超长预热期	0-超长预热第11天	2025/10/27	615	65	550	298	81	13	3	98	102	8	11	0	94	0	3	7	4	2	38	1	8	1	0	34	0	295	74	9	1	60	101	0	10	0	60	0	60	482	2	6
OPPO Reno15系列	0-超长预热期	0-超长预热第12天	2025/10/28	438	104	334	222	11	15	4	142	22	10	6	0	120	0	7	11	3	4	62	1	10	2	0	40	0	215	0	12	0	80	21	0	4	0	80	0	97	334	4	0
OPPO Reno15系列	0-超长预热期	0-超长预热第13天	2025/10/29	524	97	427	288	15	38	4	138	27	6	3	0	127	1	24	3	3	4	49	3	6	1	0	38	1	264	12	35	0	89	24	0	2	0	89	0	95	417	1	2
OPPO Reno15系列	1-外围预热期	1-外围预热第1天	2025/10/30	494	84	410	297	5	74	2	78	18	5	13	0	76	2	30	5	8	2	31	0	5	1	0	29	2	267	0	66	0	47	18	0	12	0	47	0	80	410	1	0
OPPO Reno15系列	1-外围预热期	1-外围预热第2天	2025/10/31	729	108	621	459	104	34	0	112	11	0	7	0	107	0	28	30	5	0	41	2	0	2	0	36	0	431	74	29	0	71	9	0	5	0	71	0	94	559	16	12
OPPO Reno15系列	1-外围预热期	1-外围预热第3天	2025/11/01	1,639	194	1,445	453	414	600	6	118	25	4	13	0	104	3	35	75	17	3	47	3	4	5	0	33	3	418	339	583	3	71	22	0	8	0	71	0	161	1,177	42	71
OPPO Reno15系列	1-外围预热期	1-外围预热第4天	2025/11/02	1,698	315	1,383	667	536	340	5	94	24	7	20	0	81	3	84	159	6	1	46	7	7	2	0	33	3	583	377	334	4	48	17	0	18	0	48	0	251	1,110	95	104
OPPO Reno15系列	1-外围预热期	1-外围预热第5天	2025/11/03	1,945	599	1,346	773	614	294	8	210	11	9	18	0	193	7	242	265	9	3	55	5	9	4	0	38	7	531	349	285	5	155	6	0	14	0	155	0	464	1,090	130	93
OPPO Reno15系列	1-外围预热期	1-外围预热第6天	2025/11/04	2,429	658	1,771	1,044	759	169	8	215	152	17	47	0	166	13	295	196	17	5	105	10	17	8	0	56	1	749	563	152	3	110	142	0	39	0	110	12	547	1,340	85	132
OPPO Reno15系列	1-外围预热期	1-外围预热第7天	2025/11/05	2,388	601	1,786	1,091	635	262	3	169	110	30	51	0	112	2	281	126	27	2	105	11	30	10	0	48	2	810	508	235	1	64	99	0	41	0	64	0	517	1,378	42	100
OPPO Reno15系列	1-外围预热期	1-外围预热第8天	2025/11/06	4,563	1,203	3,360	1,961	1,296	883	18	192	105	31	56	0	128	15	431	442	116	14	117	26	31	9	0	53	13	1,530	854	767	4	75	79	0	47	0	75	2	899	2,615	138	109
OPPO Reno15系列	1-外围预热期	1-外围预热第9天	2025/11/07	22,650	9,193	13,457	9,604	6,487	3,575	31	572	1,506	65	320	0	389	461	3,728	4,294	511	30	339	151	65	28	0	156	28	5,876	2,193	3,064	1	233	1,355	0	292	0	233	433	6,986	11,494	2,087	230
OPPO Reno15系列	1-外围预热期	1-外围预热第10天	2025/11/08	19,380	7,346	12,034	10,986	4,655	816	14	311	2,260	54	137	0	215	133	3,714	2,865	120	14	218	311	54	7	0	124	32	7,272	1,790	696	0	93	1,949	0	130	0	91	101	6,021	10,580	1,540	336
OPPO Reno15系列	1-外围预热期	1-外围预热第11天	2025/11/09	19,147	6,546	12,601	12,210	4,608	743	23	236	1,179	33	73	0	184	33	3,287	2,712	128	17	145	207	33	7	0	100	3	8,923	1,896	615	6	91	972	0	66	0	84	30	5,202	11,125	1,368	420
OPPO Reno15系列	2-正式预热期	2-正式预热第1天	2025/11/10	87,680	26,808	60,872	44,438	23,849	11,979	136	1,026	5,298	93	622	0	676	160	12,430	10,557	1,790	119	734	841	93	67	0	386	102	32,008	13,292	10,189	17	292	4,457	0	555	0	290	58	19,766	49,990	3,515	2,410
OPPO Reno15系列	2-正式预热期	2-正式预热第2天	2025/11/11	70,268	20,186	50,083	33,565	23,496	8,948	81	613	2,801	99	393	0	442	169	10,939	6,711	1,129	63	436	587	99	41	0	269	139	22,626	16,786	7,819	18	177	2,214	0	352	0	173	30	14,951	34,860	1,476	1,563
OPPO Reno15系列	2-正式预热期	2-正式预热第3天	2025/11/12	73,536	19,022	54,514	41,807	20,972	6,968	66	562	2,490	79	437	0	408	97	11,327	5,410	984	63	442	559	79	37	0	288	82	30,480	15,562	5,984	3	120	1,931	0	400	0	120	15	14,914	40,104	1,302	1,152
OPPO Reno15系列	2-正式预热期	2-正式预热第4天	2025/11/13	60,099	17,300	42,800	38,574	11,311	7,129	144	627	1,811	106	282	0	485	67	11,119	3,983	932	74	413	551	106	22	0	271	63	27,455	7,329	6,197	70	214	1,260	0	260	0	214	4	14,134	36,011	817	540
OPPO Reno15系列	2-正式预热期	2-正式预热第5天	2025/11/14	68,769	16,016	52,753	45,928	7,728	11,068	946	584	2,007	77	287	0	462	103	11,543	331	2,843	116	360	607	77	28	0	238	78	34,385	7,397	8,225	830	224	1,400	0	259	0	224	25	15,739	45,602	54	246
OPPO Reno15系列	2-正式预热期	2-正式预热第6天	2025/11/15	50,529	13,969	36,560	36,850	4,099	5,348	532	704	2,599	73	189	0	612	91	10,773	788	1,287	48	314	562	73	21	0	224	69	26,077	3,311	4,061	484	390	2,037	0	168	0	388	22	13,315	33,419	134	170
OPPO Reno15系列	2-正式预热期	2-正式预热第7天	2025/11/16	46,328	11,213	35,115	34,225	1,701	3,421	334	567	5,676	64	151	0	471	156	8,893	656	668	45	293	501	64	16	0	200	46	25,332	1,045	2,753	289	274	5,175	0	135	0	271	110	10,705	34,120	148	50
OPPO Reno15系列	3-发布会	3-发布会	2025/11/17	113,831	36,624	77,206	54,314	20,509	30,604	1,788	2,032	3,330	149	737	0	1,180	194	13,637	8,368	11,684	315	1,419	707	149	117	0	569	110	40,677	12,140	18,920	1,473	613	2,623	0	620	0	611	84	31,616	65,885	3,360	819
OPPO Reno15系列	4-预售期	4-预售第1天	2025/11/18	120,782	33,546	87,235	69,790	27,334	15,582	1,847	1,821	2,902	204	1,011	0	1,390	121	12,441	15,488	3,405	167	880	649	204	107	0	450	90	57,349	11,845	12,177	1,680	941	2,253	0	904	0	940	31	25,463	76,096	7,405	706
OPPO Reno15系列	4-预售期	4-预售第2天	2025/11/19	76,146	28,082	48,064	47,695	17,622	6,118	562	789	2,756	133	295	0	600	77	12,320	12,213	1,992	157	485	616	133	39	0	297	70	35,375	5,409	4,126	405	304	2,140	0	256	0	303	7	21,911	42,919	6,042	264
OPPO Reno15系列	4-预售期	4-预售第3天	2025/11/20	60,264	26,132	34,133	38,299	14,111	4,081	750	565	2,005	133	188	0	414	66	12,160	11,274	1,000	338	448	619	133	44	0	298	61	26,139	2,838	3,081	412	117	1,386	0	144	0	116	5	20,586	31,445	5,728	150
OPPO Reno15系列	5-首销月	5-首销第1天	2025/11/21	68,677	28,409	40,268	42,639	15,588	6,040	627	568	2,548	179	339	0	340	60	11,458	12,975	1,973	243	490	917	179	42	0	262	60	31,181	2,613	4,067	384	78	1,631	0	297	0	78	0	20,044	37,764	4,610	109
OPPO Reno15系列	5-首销月	5-首销第2天	2025/11/22	57,065	29,332	27,733	30,511	19,990	2,599	487	380	2,536	106	312	0	283	53	9,704	17,329	967	172	284	620	106	28	0	188	53	20,807	2,661	1,632	315	96	1,916	0	284	0	95	0	19,891	25,187	7,888	115
OPPO Reno15系列	5-首销月	5-首销第3天	2025/11/23	45,607	23,971	21,635	22,606	16,494	3,173	514	317	2,126	70	206	0	258	36	8,071	14,155	677	115	245	531	70	26	0	186	35	14,535	2,338	2,496	399	72	1,595	0	180	0	72	1	16,138	19,427	6,322	130
OPPO Reno15系列	5-首销月	5-首销第4天	2025/11/24	38,375	24,622	13,753	15,951	18,914	1,863	464	326	524	73	112	0	231	64	8,251	14,431	847	133	283	453	73	29	0	188	63	7,700	4,483	1,016	331	43	71	0	83	0	43	1	16,817	9,483	6,626	213
OPPO Reno15系列	5-首销月	5-首销第5天	2025/11/25	31,558	22,474	9,084	13,362	15,186	1,334	489	498	446	76	78	0	387	39	7,837	12,863	734	168	289	414	76	16	0	178	38	5,525	2,323	600	321	209	32	0	62	0	209	1	15,534	6,880	5,923	119
OPPO Reno15系列	5-首销月	5-首销第6天	2025/11/26	30,064	22,009	8,055	12,672	14,663	1,353	351	347	443	75	58	0	238	49	7,275	13,161	548	138	273	422	75	20	0	164	47	5,397	1,502	805	213	74	21	0	38	0	74	2	15,434	6,625	6,586	72
OPPO Reno15系列	5-首销月	5-首销第7天	2025/11/27	25,897	18,457	7,440	11,396	11,962	1,142	409	339	395	71	66	0	230	56	6,294	10,549	568	211	282	366	71	21	0	173	56	5,102	1,413	574	198	57	29	0	45	0	57	0	13,743	6,090	5,835	63
OPPO Reno15系列	5-首销月	5-首销第8天	2025/11/28	23,019	15,052	7,967	10,599	7,975	2,694	540	588	389	78	57	0	477	44	5,585	6,948	1,404	134	426	369	78	17	0	316	44	5,014	1,027	1,290	406	162	20	0	40	0	161	0	10,376	6,984	2,272	44
OPPO Reno15系列	5-首销月	5-首销第9天	2025/11/29	23,912	17,400	6,512	10,550	10,693	1,255	393	437	392	53	31	0	375	54	5,052	10,392	912	164	349	377	53	13	0	287	54	5,498	301	343	229	88	15	0	18	0	88	0	10,672	6,227	3,664	16
OPPO Reno15系列	5-首销月	5-首销第10天	2025/11/30	20,325	13,553	6,772	9,238	9,100	617	504	347	354	43	45	0	296	40	4,363	7,847	392	237	253	328	43	19	0	202	40	4,875	1,253	225	267	94	26	0	26	0	94	0	8,479	5,592	2,773	73
OPPO Reno14系列	0-超长预热期	0-超长预热第12天	2025/04/25	223	27	196	23	156	23	3	6	6	0	6	0	3	0	6	10	5	0	4	1	0	1	0	1	0	17	146	18	3	2	5	0	5	0	2	0	27	196	10	146
OPPO Reno14系列	0-超长预热期	0-超长预热第13天	2025/04/26	260	22	238	23	179	39	0	3	10	0	5	0	2	1	6	8	2	0	2	2	0	1	0	1	1	17	171	37	0	1	8	0	4	0	1	0	22	238	8	171
OPPO Reno14系列	1-外围预热期	1-外围预热第1天	2025/04/27	493	51	442	33	316	113	0	26	1	0	4	0	14	0	7	23	5	0	16	0	0	0	0	4	0	26	293	108	0	10	1	0	4	0	10	0	51	442	23	293
OPPO Reno14系列	1-外围预热期	1-外围预热第2天	2025/04/28	5,638	1,118	4,520	615	1,138	3,167	11	313	114	35	230	0	150	0	69	315	393	10	257	15	35	17	0	94	0	546	823	2,774	1	56	99	0	213	0	56	0	1,118	4,520	315	823
OPPO Reno14系列	1-外围预热期	1-外围预热第3天	2025/04/29	3,081	573	2,508	505	960	1,021	48	222	242	20	56	0	121	1	69	151	138	9	161	12	20	6	0	60	1	436	809	883	39	61	230	0	50	0	61	0	573	2,508	151	809
OPPO Reno14系列	1-外围预热期	1-外围预热第4天	2025/04/30	3,001	538	2,463	437	1,157	943	17	197	197	15	34	0	114	0	71	163	129	8	141	5	15	4	0	58	0	366	994	814	9	56	192	0	30	0	56	0	538	2,463	163	994
OPPO Reno14系列	1-外围预热期	1-外围预热第5天	2025/05/01	5,972	1,788	4,184	1,029	2,325	2,061	78	239	172	16	35	0	151	0	316	831	266	57	190	89	16	5	0	104	0	713	1,494	1,795	21	49	83	0	30	0	47	0	1,788	4,184	831	1,494
OPPO Reno14系列	1-外围预热期	1-外围预热第6天	2025/05/02	5,307	1,136	4,171	1,760	1,484	1,397	24	394	142	29	65	0	256	0	224	429	122	16	227	71	29	6	0	92	0	1,536	1,055	1,275	8	167	71	0	59	0	164	0	1,136	4,171	429	1,055
OPPO Reno14系列	1-外围预热期	1-外围预热第7天	2025/05/03	4,576	717	3,859	1,943	1,094	849	13	328	226	36	75	0	163	0	108	213	63	8	238	33	36	8	0	74	0	1,835	881	786	5	90	193	0	67	0	89	0	717	3,859	213	881
OPPO Reno14系列	1-外围预热期	1-外围预热第8天	2025/05/04	3,419	480	2,939	1,297	961	606	3	246	219	26	58	0	156	0	88	163	36	1	138	21	26	4	0	50	0	1,209	798	570	2	108	198	0	54	0	106	0	480	2,939	163	798
OPPO Reno14系列	1-外围预热期	1-外围预热第9天	2025/05/05	3,084	474	2,610	1,088	1,079	462	18	224	119	22	67	0	134	0	75	151	30	6	165	17	22	3	0	75	0	1,013	928	432	12	59	102	0	64	0	59	0	474	2,610	151	928
OPPO Reno14系列	1-外围预热期	1-外围预热第10天	2025/05/06	16,365	4,960	11,405	2,672	2,185	10,368	27	526	367	43	165	0	252	5	427	727	3,268	15	414	36	43	19	0	142	3	2,245	1,458	7,100	12	112	331	0	146	0	110	2	4,960	11,405	727	1,458
OPPO Reno14系列	1-外围预热期	1-外围预热第11天	2025/05/07	10,192	2,355	7,837	2,024	2,860	4,224	17	356	519	35	151	0	176	0	453	842	703	8	267	36	35	6	0	89	0	1,571	2,018	3,521	9	89	483	0	145	0	87	0	2,355	7,837	842	2,018
OPPO Reno14系列	2-正式预热期	2-正式预热第1天	2025/05/08	65,399	13,593	51,806	33,332	12,694	12,109	239	1,329	5,053	90	424	0	921	35	5,371	4,349	2,407	109	767	356	90	53	0	362	18	27,961	8,345	9,702	130	562	4,697	0	371	0	559	17	13,593	51,806	4,349	8,345
OPPO Reno14系列	2-正式预热期	2-正式预热第2天	2025/05/09	57,279	13,573	43,706	27,481	15,924	7,387	134	940	4,766	65	495	0	681	33	5,994	5,101	1,413	47	607	268	65	35	0	352	5	21,487	10,823	5,974	87	333	4,498	0	460	0	329	28	13,573	43,706	5,101	10,823
OPPO Reno14系列	2-正式预热期	2-正式预热第3天	2025/05/10	49,446	12,889	36,557	19,917	14,551	10,874	81	587	3,143	42	216	0	432	4	6,089	4,753	1,223	34	415	276	42	27	0	260	1	13,828	9,798	9,651	47	172	2,867	0	189	0	172	3	12,889	36,557	4,753	9,798
OPPO Reno14系列	2-正式预热期	2-正式预热第4天	2025/05/11	35,494	9,750	25,744	14,937	10,663	7,401	101	443	1,486	34	397	0	330	3	4,847	3,501	753	47	294	228	34	19	0	181	2	10,090	7,162	6,648	54	149	1,258	0	378	0	149	1	9,750	25,744	3,501	7,162
OPPO Reno14系列	2-正式预热期	2-正式预热第5天	2025/05/12	31,205	11,288	19,917	14,786	11,362	3,422	56	535	702	31	277	0	382	3	5,211	4,968	426	21	406	174	31	21	0	254	3	9,575	6,394	2,996	35	129	528	0	256	0	128	0	11,288	19,917	4,968	6,394
OPPO Reno14系列	2-正式预热期	2-正式预热第6天	2025/05/13	33,173	14,484	18,689	13,930	12,020	5,347	75	578	678	42	474	0	398	5	7,211	5,629	860	51	436	205	42	22	0	257	5	6,719	6,391	4,487	24	142	473	0	452	0	141	0	14,484	18,689	5,629	6,391
OPPO Reno14系列	2-正式预热期	2-正式预热第7天	2025/05/14	38,292	16,624	21,668	15,313	13,307	7,108	84	717	1,260	51	412	0	473	5	7,729	6,357	1,534	61	590	238	51	25	0	347	5	7,584	6,950	5,574	23	127	1,022	0	387	0	126	0	16,624	21,668	6,357	6,950
OPPO Reno14系列	3-发布会	3-发布会	2025/05/15	117,882	34,589	83,293	56,971	22,898	30,782	864	2,507	2,458	153	968	0	1,411	73	10,959	9,200	11,094	289	2,011	551	153	125	0	920	38	46,012	13,698	19,688	575	496	1,907	0	843	0	491	35	34,589	83,293	9,200	13,698
OPPO Reno14系列	4-预售期	4-预售第1天	2025/05/16	81,138	23,235	57,903	42,448	19,908	10,551	709	2,480	4,072	216	453	0	1,852	22	9,848	8,410	2,861	108	1,236	405	216	41	0	623	8	32,600	11,498	7,690	601	1,244	3,667	0	412	0	1,229	14	23,235	57,903	8,410	11,498
OPPO Reno14系列	4-预售期	4-预售第2天	2025/05/17	58,725	18,824	39,901	32,028	16,347	6,016	207	938	2,688	86	260	0	685	54	8,963	7,369	1,238	48	674	359	86	31	0	430	7	23,065	8,978	4,778	159	264	2,329	0	229	0	255	47	18,824	39,901	7,369	8,978
OPPO Reno14系列	4-预售期	4-预售第3天	2025/05/18	46,478	14,709	31,769	24,823	13,452	5,307	126	562	1,679	58	333	0	461	45	7,068	5,658	1,100	20	410	293	58	31	0	310	3	17,755	7,794	4,207	106	152	1,386	0	302	0	151	42	14,709	31,769	5,658	7,794
OPPO Reno14系列	4-预售期	4-预售第4天	2025/05/19	47,017	16,214	30,803	24,730	16,084	3,740	205	787	932	99	323	0	577	32	8,257	5,941	930	64	561	267	99	38	0	353	5	16,473	10,143	2,810	141	226	665	0	285	0	224	27	16,214	30,803	5,941	10,143
OPPO Reno14系列	4-预售期	4-预售第5天	2025/05/20	45,693	16,839	28,854	24,925	14,933	3,746	171	855	712	79	184	0	655	28	8,715	6,058	885	38	676	312	79	19	0	477	5	16,210	8,875	2,861	133	179	400	0	165	0	178	23	16,839	28,854	6,058	8,875
OPPO Reno14系列	4-预售期	4-预售第6天	2025/05/21	46,309	16,161	30,148	27,160	13,599	3,424	102	735	697	57	117	0	561	359	8,152	5,942	709	59	490	335	57	20	0	319	353	19,008	7,657	2,715	43	245	362	0	97	0	242	6	16,161	30,148	5,942	7,657
OPPO Reno14系列	4-预售期	4-预售第7天	2025/05/22	63,543	17,293	46,250	38,542	16,058	4,874	181	1,884	1,329	76	129	0	1,555	376	8,345	5,721	1,218	142	844	462	76	23	0	519	374	30,197	10,337	3,656	39	1,040	867	0	106	0	1,036	2	17,293	46,250	5,721	10,337
OPPO Reno14系列	5-首销月	5-首销第1天	2025/05/23	50,307	16,662	33,645	24,169	16,490	4,710	140	2,643	1,480	135	150	0	2,312	309	7,894	5,241	1,750	55	780	410	135	35	0	450	296	16,275	11,249	2,960	85	1,863	1,070	0	115	0	1,862	13	16,662	33,645	5,241	11,249
OPPO Reno14系列	5-首销月	5-首销第2天	2025/05/24	33,086	11,978	21,108	13,876	13,414	3,376	40	781	1,245	57	137	0	624	94	5,766	4,291	871	26	485	341	57	25	0	329	67	8,110	9,123	2,505	14	296	904	0	112	0	295	27	11,978	21,108	4,291	9,123
OPPO Reno14系列	5-首销月	5-首销第3天	2025/05/25	30,362	10,108	20,254	14,054	11,514	3,148	39	612	657	42	143	0	490	87	4,879	3,674	636	25	425	266	42	27	0	303	77	9,175	7,840	2,512	14	187	391	0	116	0	187	10	10,108	20,254	3,674	7,840
OPPO Reno14系列	5-首销月	5-首销第4天	2025/05/26	27,347	10,869	16,478	12,722	10,040	3,075	74	711	447	66	97	0	499	65	5,325	3,455	1,116	56	499	241	66	11	0	287	63	7,397	6,585	1,959	18	212	206	0	86	0	212	2	10,869	16,478	3,455	6,585
OPPO Reno14系列	5-首销月	5-首销第5天	2025/05/27	26,259	10,319	15,940	12,539	9,680	1,751	77	1,573	357	46	99	0	1,352	60	5,044	3,482	795	58	528	220	46	20	0	310	60	7,495	6,198	956	19	1,045	137	0	79	0	1,042	0	10,319	15,940	3,482	6,198
OPPO Reno14系列	5-首销月	5-首销第6天	2025/05/28	28,567	9,074	19,493	14,655	9,752	2,274	80	1,088	419	51	98	0	869	68	4,432	3,305	421	56	463	195	51	14	0	244	68	10,223	6,447	1,853	24	625	224	0	84	0	625	0	9,074	19,493	3,305	6,447
OPPO Reno14系列	5-首销月	5-首销第7天	2025/05/29	26,187	10,141	16,046	11,225	10,573	3,013	73	640	355	56	126	0	453	74	4,556	3,847	898	31	438	175	56	26	0	251	74	6,669	6,726	2,115	42	202	180	0	100	0	202	0	10,141	16,046	3,847	6,726
OPPO Reno14系列	5-首销月	5-首销第8天	2025/05/30	24,174	9,858	14,316	9,695	10,883	2,249	34	717	280	68	116	0	501	82	3,972	3,957	1,112	21	460	130	68	16	0	244	81	5,723	6,926	1,137	13	257	150	0	100	0	257	1	9,858	14,316	3,957	6,926
OPPO Reno14系列	5-首销月	5-首销第9天	2025/05/31	21,808	7,519	14,289	7,807	10,408	2,142	79	746	347	49	78	0	606	81	3,369	2,913	374	31	440	194	49	14	0	302	81	4,438	7,495	1,768	48	306	153	0	64	0	304	0	7,519	14,289	2,913	7,495
OPPO Reno14系列	5-首销月	5-首销第10天	2025/06/01	22,259	5,526	16,733	10,878	8,929	1,237	65	456	473	43	69	0	383	61	2,568	2,084	259	8	293	161	43	16	0	220	61	8,310	6,845	978	57	163	312	0	53	0	163	0	5,526	16,733	2,084	6,845
OPPO Reno14系列	5-首销月	5-首销第11天	2025/06/02	22,132	5,769	16,363	12,307	7,958	796	47	372	436	31	88	0	283	52	2,816	2,136	205	9	272	195	31	17	0	183	52	9,491	5,822	591	38	100	241	0	71	0	100	0	5,769	16,363	2,136	5,822
OPPO Reno14系列	5-首销月	5-首销第12天	2025/06/03	20,491	5,908	14,583	11,760	6,786	813	134	472	305	42	70	0	340	55	2,861	2,137	198	21	341	195	42	11	0	210	55	8,899	4,649	615	113	131	110	0	59	0	130	0	5,908	14,583	2,137	4,649
OPPO Reno14系列	5-首销月	5-首销第13天	2025/06/04	19,925	6,135	13,790	10,155	8,011	680	62	444	363	42	56	0	345	52	3,064	2,281	174	11	298	163	42	12	0	199	52	7,091	5,730	506	51	146	200	0	44	0	146	0	6,135	13,790	2,281	5,730
OPPO Reno14系列	5-首销月	5-首销第14天	2025/06/05	27,395	8,945	18,450	13,349	9,155	3,441	54	666	465	70	55	0	498	72	4,246	2,993	779	36	447	242	70	14	0	279	72	9,103	6,162	2,662	18	219	223	0	41	0	219	0	8,945	18,450	2,993	6,162
OPPO Reno14系列	5-首销月	5-首销第15天	2025/06/06	20,321	9,168	11,153	10,590	7,365	1,041	30	748	328	68	33	0	616	58	4,723	3,349	353	16	376	172	68	6	0	244	58	5,867	4,016	688	14	372	156	0	27	0	372	0	9,168	11,153	3,349	4,016
OPPO Reno14系列	5-首销月	5-首销第16天	2025/06/07	14,159	6,829	7,330	7,563	4,558	920	17	578	360	36	26	0	519	67	3,476	2,494	235	11	299	179	36	4	0	240	67	4,087	2,064	685	6	279	181	0	22	0	279	0	6,829	7,330	2,494	2,064`;

        let state = {
            selectedBrand: 'all', selectedModels: [], selectedStages: [...ALL_STAGES],
            selectedNodes: [...ALL_NODES], selectedSites: [...ALL_SITES], uvType: 'all'
        };

        function parseData(text) {
            const rows = text.trim().split('\n');
            const headers = rows[0].split('\t');
            return rows.slice(1).map(line => {
                const cols = line.split('\t');
                let obj = {};
                headers.forEach((h, i) => obj[h] = cols[i] || "0");
                return obj;
            });
        }
        const tableData = parseData(rawDataStr);

        function initFilters() {
            renderList('model', getAllModels()); renderList('stage', ALL_STAGES);
            renderList('node', ALL_NODES); renderList('site', ALL_SITES); updateTriggers();
        }
        function getAllModels() { return [...BRAND_MODEL_MAP['vivo'], ...BRAND_MODEL_MAP['OPPO']]; }
        function renderList(type, items) {
            const el = document.getElementById(type + 'List');
            el.innerHTML = items.map(i => `<label class="checkbox-item"><input type="checkbox" value="${i}" checked> ${i}</label>`).join('');
            state['selected' + capitalize(type) + 's'] = [...items];
        }
        function handleBrandChange() {
            const val = document.getElementById('brandSelect').value;
            state.selectedBrand = val;
            const models = val === 'all' ? getAllModels() : BRAND_MODEL_MAP[val];
            renderList('model', models); confirmFilter('model');
        }
        function confirmStage() {
            confirmFilter('stage');
            const checked = state.selectedStages;
            const nodes = checked.length < ALL_STAGES.length ? ALL_NODES.filter(n => checked.some(s => n.includes(s.replace('期','')))) : ALL_NODES;
            renderList('node', nodes); confirmFilter('node');
        }
        function confirmFilter(type) {
            state['selected' + capitalize(type) + 's'] = Array.from(document.getElementById(type + 'List').querySelectorAll('input:checked')).map(cb => cb.value);
            toggleDropdown(type + 'Dropdown'); updateTriggers(); renderTable();
        }
        function updateTriggers() {
            ['model','stage','node','site'].forEach(t => {
                const sel = state['selected'+capitalize(t)+'s'];
                const all = document.getElementById(t+'List').children.length;
                document.getElementById(t+'Trigger').innerText = sel.length===all ? (t==='site'?'全选':'不限') : `已选 ${sel.length} 项`;
            });
        }
        function toggleDropdown(id) {
            const el = document.getElementById(id); const show = el.classList.contains('show');
            document.querySelectorAll('.dropdown-panel').forEach(p => p.classList.remove('show'));
            if(!show) el.classList.add('show');
        }
        function selectAll(type, checked) { document.getElementById(type+'List').querySelectorAll('input').forEach(cb => cb.checked = checked); }
        function capitalize(s) { return s.charAt(0).toUpperCase() + s.slice(1); }

        function renderTable() {
            state.uvType = document.getElementById('uvTypeSelect').value;
            const thead = document.querySelector('#dataTable thead');
            const tbody = document.querySelector('#dataTable tbody');
            tbody.innerHTML = ''; thead.innerHTML = '';

            let rows = tableData.filter(r => {
                if(!state.selectedModels.includes(r['机型'])) return false;
                let sMatch = state.selectedStages.some(s => r['阶段'].includes(s)) || r['阶段']==='//';
                let nMatch = state.selectedNodes.some(n => r['节点'].includes(n)) || r['节点']==='//';
                return sMatch && nMatch;
            });

            const uvType = state.uvType;
            const sites = state.selectedSites;
            const showTotal = uvType === 'all';
            const showMain = uvType === 'all' || uvType === 'main';
            const showComment = uvType === 'all' || uvType === 'comment';
            const showStorage = sites.includes('小红书');

            if(sites.length === 0 && !showStorage) { tbody.innerHTML='<tr><td colspan="20" style="text-align:center;padding:20px">请选择站点</td></tr>'; return; }

            const siteHeader = (s) => s==='小红书' ? '小红书<br>(推算)' : s;
            
            // --- 表头第一行 ---
            let h1 = `<tr>
                <th class="sticky-col col-model th-blank"></th>
                <th class="sticky-col col-stage th-blank"></th>
                <th class="sticky-col col-node th-blank"></th>
                <th class="sticky-col col-date th-blank"></th>
                <th class="th-blank"></th>
                <th class="th-blank"></th>
                <th class="th-blank"></th>`;
                
            if(showTotal) h1 += `<th class="th-orange-bg" colspan="${sites.length}">总UV-重点渠道</th>`;
            if(showMain) h1 += `<th class="th-blue-bg" colspan="${sites.length}">主贴UV-重点渠道</th>`;
            if(showComment) h1 += `<th class="th-pink-bg" colspan="${sites.length}">评论UV-重点渠道</th>`;
            if(showStorage) h1 += `<th class="th-storage-bg" colspan="${uvType==='all'?4:2}">入库数</th>`;
            h1 += `</tr>`;

            // --- 表头第二行 ---
            let h2 = `<tr>
                <th class="sticky-col col-model">机型</th>
                <th class="sticky-col col-stage">阶段</th>
                <th class="sticky-col col-node">节点</th>
                <th class="sticky-col col-date">日期</th>
                <th>总UV</th>
                <th>主贴UV<br>(推算)</th>
                <th>评论UV<br>(推算)</th>`;
                
            const thSites = (cls, pre) => sites.map(s => `<th class="${cls}">${pre}-${siteHeader(s)}</th>`).join('');
            if(showTotal) h2 += thSites('th-sub-orange','总');
            if(showMain) h2 += thSites('th-sub-blue','主');
            if(showComment) h2 += thSites('th-sub-pink','评');
            
            if(showStorage) {
                if(uvType==='all') h2+=`<th>主贴UV</th><th>评论UV</th><th>主-小红书</th><th>评-小红书</th>`;
                else if(uvType==='main') h2+=`<th>主贴UV</th><th>主-小红书</th>`;
                else h2+=`<th>评论UV</th><th>评-小红书</th>`;
            }
            h2 += `</tr>`;
            thead.innerHTML = h1 + h2;

            // 分组与渲染
            let groups = {};
            state.selectedModels.forEach(m => groups[m] = []);
            rows.forEach(r => { if(groups[r['机型']]) groups[r['机型']].push(r); });

            Object.keys(groups).forEach(model => {
                const modelRows = groups[model];
                if(modelRows.length === 0) return;

                let sumData = { '机型': model + ' 合计', '阶段': '-', '节点': `${modelRows.length} 条记录`, '日期': '-' };
                let keys = ['总UV', '主贴UV', '评论UV', '主-小红书', '评-小红书'];
                sites.forEach(s => keys.push(`总-${s}`, `主-${s}`, `评-${s}`));
                keys.forEach(k => sumData[k] = 0);

                modelRows.forEach(r => {
                    renderRow(r, tbody, sites, showTotal, showMain, showComment, showStorage, false);
                    keys.forEach(k => {
                        let val = parseFloat((r[k]||"0").replace(/,/g,'')) || 0;
                        sumData[k] += val;
                    });
                });

                renderRow(sumData, tbody, sites, showTotal, showMain, showComment, showStorage, true);
            });
        }

        function renderRow(data, tbody, sites, showTotal, showMain, showComment, showStorage, isSum) {
            const tr = document.createElement('tr');
            if(isSum) tr.className = 'tr-summary';

            const v = (k) => {
                let val = data[k];
                if(typeof val === 'number') return Math.floor(val).toLocaleString();
                return isSum ? '-' : (val || 0);
            };
            const vs = (pre, s) => {
                let key = `${pre}-${s}`;
                let val = data[key];
                if(isSum && typeof val === 'number') return Math.floor(val).toLocaleString();
                if(isSum && !val) return 0;
                return val || 0;
            };

            let html = `
                <td class="sticky-col col-model ${isSum?'':'text-cell'}">${data['机型']}</td>
                <td class="sticky-col col-stage text-center">${data['阶段']}</td>
                <td class="sticky-col col-node text-center">${data['节点']}</td>
                <td class="sticky-col col-date text-center">${data['日期']}</td>
                <td>${v('总UV')}</td>
                <td>${v('主贴UV')}</td>
                <td>${v('评论UV')}</td>
            `;
            if(showTotal) sites.forEach(s => html += `<td>${vs('总',s)}</td>`);
            if(showMain) sites.forEach(s => html += `<td>${vs('主',s)}</td>`);
            if(showComment) sites.forEach(s => html += `<td>${vs('评',s)}</td>`);
            
            if(showStorage) {
                if(state.uvType === 'all') html += `<td>${v('主贴UV')}</td><td>${v('评论UV')}</td><td>${v('主-小红书')}</td><td>${v('评-小红书')}</td>`;
                else if(state.uvType === 'main') html += `<td>${v('主贴UV')}</td><td>${v('主-小红书')}</td>`;
                else html += `<td>${v('评论UV')}</td><td>${v('评-小红书')}</td>`;
            }
            tr.innerHTML = html;
            tbody.appendChild(tr);
        }

        initFilters(); renderTable();
        document.addEventListener('click', e => {
            if(!e.target.closest('.filter-item')) document.querySelectorAll('.dropdown-panel').forEach(p=>p.classList.remove('show'));
        });
    </script>
</body>
</html>